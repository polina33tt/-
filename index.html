<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ üíå</title>
</head>

<body>

<div class="card" id="app">
    <h1>–¢–µ–±–µ –ø—Ä–∏—à–ª–æ –ø–∏—Å—å–º–æ</h1>
    <p>–¢–°–°–°–°–°</p>
    <button class="btn-next" onclick="nextStep()">–î–∞–ª–µ–µ</button>
</div>

<script>

let heartInterval = null;
let clickedNo = false;

function clearHearts() {
    if (heartInterval) {
        clearInterval(heartInterval);
        heartInterval = null;
    }
}

function nextStep() {
    clearHearts();
    document.getElementById("app").innerHTML = `
        <img src="img/–º—è—Éjpg.jpg" alt="–ú—è—É" class="preview-img">
        <p>–û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ?</p>
        <button class="btn-open" onclick="openLetter()">–û—Ç–∫—Ä—ã—Ç—å</button>
        <button class="btn-no" onclick="dontOpen()">–ù–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å</button>
    `;
}

function openLetter() {
    if (!clickedNo) {
        document.getElementById("app").innerHTML = `
            <h1 style="color:red;">–ù–ï –ë–ê–õ–£–ô–°–Ø, –û–®–ò–ë–ö–ê</h1>
            <p>–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π –≤–∏–¥,<br>—á—Ç–æ –Ω–∞–∂–º—ë—à—å "–ù–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å" –•–ò–•–ò–•</p>
            <button class="btn-next" onclick="nextStep()">–ù–∞–∑–∞–¥</button>
        `;
        return;
    }

    clearHearts();
    document.getElementById("app").innerHTML = `
        <h1>‚ù§Ô∏è –° –ù–ê–®–ò–ú –î–ù–ï–ú !</h1>
        <p>–¢—ã —Å–∞–º—ã–π –ª—É—á—à–∏–π —É –º–µ–Ω—è!<br>
        –ü—É—Å—Ç—å –≤—Å—ë —Å–∞–º–æ–µ –ª—É—á—à–µ–µ –≤–ø–µ—Ä–µ–¥–∏ üíï</p>
    `;
    spawnHearts();
}

function dontOpen() {
    clearHearts();
    document.getElementById("app").innerHTML = `
        <img src="img/—á–µ.jpg" alt="–ß–µ—Ä—Ç—ë–Ω–æ–∫" class="small-img">
        <p>–ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä–æ–µ—à—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É‚Ä¶<br>
        —è –ø—Ä–∏—à–ª—é –µ—â—ë 100! üíåüíåüíå</p>
        <div>
            <button class="btn-img" onclick="openLetter()">
                <img src="img/—Ö—ã.jpg" alt="–õ–∞–¥–Ω–æ, –æ—Ç–∫—Ä—ã—Ç—å"><br>–õ–∞–¥–Ω–æ, –æ—Ç–∫—Ä—ã—Ç—å
            </button>
            <button class="btn-img" onclick="notWant()">
                <img src="img/–∫—É—Å—å.jpg" alt="–Ø –Ω–µ —Ö–æ—á—É"><br>–Ø –Ω–µ —Ö–æ—á—É
            </button>
        </div>
    `;
    clickedNo = true;
}

function notWant() {
    clearHearts();
    document.getElementById("app").innerHTML = `
        <div class="fullscreen">
            <div class="overlay-box">
                <p>–õ—É—á—à–µ —Ç–∞–∫ –Ω–µ –¥–µ–ª–∞–π, –∞ —Ç–æ –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ)))</p>
                <button class="btn-next" onclick="dontOpen()">–ù–∞–∑–∞–¥</button>
            </div>
        </div>
    `;
}

function spawnHearts() {
    heartInterval = setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = (4 + Math.random() * 3) + "s";
        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 6000);
    }, 400);
}

</script>

</body>
</html>